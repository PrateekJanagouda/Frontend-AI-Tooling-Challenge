<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Traffic Data Dashboard</title>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* Reset */
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background-color: #f9fafb;
            color: #222;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1 {
            text-align: center;
            font-weight: 700;
            margin-bottom: 30px;
            color: #1e293b;
        }

        /* Overview Cards Container */
        .overview-cards {
            display: flex;
            gap: 24px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .card {
            background: white;
            padding: 20px 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgb(0 0 0 / 0.1);
            flex: 1 1 250px;
            max-width: 320px;
            min-width: 280px;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, color 0.3s ease;
            cursor: default;
            opacity: 0;
            animation: fadeInUp 0.6s forwards;
            position: relative;
            z-index: 0;
        }

        /* Hover for all cards */
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 20px rgb(0 0 0 / 0.12);
        }

        /* Total Vehicles card special */
        .card.total-vehicles {
            background-color: #e0e7ff; /* light blue */
            color: #1e293b;
            font-weight: 600;
        }

        .card.total-vehicles:hover {
            background-color: #4338ca; /* darker blue */
            color: white;
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 30px rgba(60, 53, 133, 0.758);
            z-index: 10;
        }

        /* Peak Hours, Anomalies, Insights same as Total Vehicles on hover */
        .card.peak-hours:hover,
        .card.anomalies:hover,
        .card.insights:hover {
            background-color: #4338ca;
            color: white;
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 30px rgba(60, 53, 133, 0.758);
            z-index: 10;
        }

        .card.peak-hours:hover h3,
        .card.anomalies:hover h3,
        .card.insights:hover h3 {
            color: white;
        }

        .card.peak-hours:hover p,
        .card.anomalies:hover p,
        .card.insights:hover p,
        .card.peak-hours:hover ul,
        .card.anomalies:hover ul,
        .card.insights:hover ul {
            color: white;
        }

        .card h3 {
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 1.25rem;
            color: #334155;
        }

        .card.total-vehicles h3 {
            color: inherit;
        }

        .card p, .card ul {
            font-size: 1.1rem;
            color: #475569;
        }

        .card.total-vehicles p {
            color: inherit;
            font-weight: 700;
            font-size: 2.5rem;
            text-align: center;
            margin-top: 10px;
            letter-spacing: 0.03em;
        }

        ul {
            list-style-type: none;
            padding-left: 0;
            margin-top: 0;
        }

        ul li {
            padding: 8px 6px;
            border-radius: 6px;
            margin-bottom: 8px;
            background: #f1f5f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
            color: #334155;
        }

        /* Badges for Anomalies */
        .badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            color: white;
            white-space: nowrap;
        }
        .badge.spike {
            background-color: #dc2626; /* Red */
            box-shadow: 0 2px 6px rgb(220 38 38 / 0.4);
        }
        .badge.drop {
            background-color: #2563eb; /* Blue */
            box-shadow: 0 2px 6px rgb(37 99 235 / 0.4);
        }

        /* Insights card */
        #insightText {
            font-size: 1.15rem;
            color: #334155;
            line-height: 1.5;
        }

        /* Heatmap */
        #heatmap-section {
            text-align: center;
            font-weight: 600;
            margin-bottom: 12px;
            color: #334155;
            margin-top: 40px;
            opacity: 0;
            animation: fadeInUp 0.7s forwards;
            animation-delay: 0.4s;
        }

        #heatmap {
            display: grid;
            grid-template-columns: repeat(24, 22px);
            gap: 4px;
            justify-content: center;
            margin: 0 auto 40px;
            max-width: 580px;
            user-select: none;
            opacity: 0;
            animation: fadeInUp 0.7s forwards;
            animation-delay: 0.5s;
        }

        .heatmap-cell {
            width: 22px;
            height: 22px;
            border-radius: 4px;
            cursor: default;
            transition: transform 0.2s ease;
            box-shadow: 0 1px 3px rgb(0 0 0 / 0.1);
        }
        .heatmap-cell:hover {
            transform: scale(1.3);
            z-index: 10;
            box-shadow: 0 6px 12px rgb(0 0 0 / 0.2);
        }

        /* Chart containers */
        #lineChartContainer,
        #barChartContainer {
            max-width: 720px;
            margin: 0 auto 50px;
            background: white;
            border-radius: 12px;
            padding: 20px 25px;
            box-shadow: 0 6px 18px rgb(0 0 0 / 0.08);
            opacity: 0;
            animation: fadeInUp 0.7s forwards;
            animation-delay: 0.6s;
        }

        #lineChartContainer h3,
        #barChartContainer h3 {
            margin-bottom: 18px;
            color: #1e293b;
            font-weight: 700;
            font-size: 1.3rem;
        }

        .chart-wrapper {
            width: 100%;
            overflow-x: auto;
        }

        canvas {
            display: block;
            width: 100% !important;
            max-height: 340px !important;
            user-select: none;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive tweaks */
        @media (max-width: 720px) {
            .overview-cards {
                flex-direction: column;
                align-items: center;
            }

            .card {
                max-width: 90vw;
                min-width: auto;
            }

            #heatmap {
                grid-template-columns: repeat(12, 22px);
            }
        }
    </style>
</head>
<body>

    <h1>Traffic Data Dashboard</h1>

    <!-- Overview Cards -->
    <div class="overview-cards">
        <div class="card total-vehicles" style="animation-delay: 0.1s;">
            <h3>Total Vehicles</h3>
            <p id="totalVehicles">0</p>
        </div>
        <div class="card peak-hours" style="animation-delay: 0.2s;">
            <h3>Peak Hours</h3>
            <ul id="peakHours"></ul>
        </div>
        <div class="card anomalies" style="animation-delay: 0.3s;">
            <h3>Anomalies</h3>
            <ul id="anomalies"></ul>
        </div>
    </div>

    <!-- Insight Text -->
    <div class="card insights" style="max-width: 720px; margin: 0 auto 40px; animation-delay: 0.4s;">
        <h3>Insights</h3>
        <p id="insightText"></p>
    </div>

    <!-- Heatmap -->
    <h3 id="heatmap-section">Hourly Traffic Heatmap</h3>
    <div id="heatmap"></div>

    <!-- Charts -->
    <div id="lineChartContainer">
        <h3>Traffic Trends (Line Chart)</h3>
        <div class="chart-wrapper">
            <canvas id="trafficLineChart" width="600" height="300"></canvas>
        </div>
    </div>

    <div id="barChartContainer">
        <h3>Traffic Breakdown (Stacked Bar)</h3>
        <div class="chart-wrapper">
            <canvas id="stackedBarChart" width="600" height="300"></canvas>
        </div>
    </div>

    <!-- JS -->
    <script src="app.js"></script>

</body>
</html>
